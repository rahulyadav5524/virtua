import{t as C,a as I,_ as d}from"./defineProperty-CGxbSGuy.js";import{_ as v}from"./assertThisInitialized-B9jnkVVz.js";import{_ as q}from"./setPrototypeOf-DgZC2w_0.js";import{r as P}from"./index-98wxwTcn.js";function V(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function A(n,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,C(t.key),t)}}function $(n,r,i){return r&&A(n.prototype,r),i&&A(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function B(n,r){if(r&&(I(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(n)}function S(n){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},S(n)}function U(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&q(n,r)}function K(n,r){var i;typeof r<"u"?i=r:typeof window<"u"?i=window:typeof self<"u"?i=self:i=global;var t=typeof i.document<"u"&&i.document.attachEvent;if(!t){var l=function(){var h=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||function(e){return i.setTimeout(e,20)};return function(e){return h(e)}}(),y=function(){var h=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.clearTimeout;return function(e){return h(e)}}(),f=function(e){var s=e.__resizeTriggers__,o=s.firstElementChild,a=s.lastElementChild,E=o.firstElementChild;a.scrollLeft=a.scrollWidth,a.scrollTop=a.scrollHeight,E.style.width=o.offsetWidth+1+"px",E.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},u=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},b=function(e){if(!(e.target.className&&typeof e.target.className.indexOf=="function"&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var s=this;f(this),this.__resizeRAF__&&y(this.__resizeRAF__),this.__resizeRAF__=l(function(){u(s)&&(s.__resizeLast__.width=s.offsetWidth,s.__resizeLast__.height=s.offsetHeight,s.__resizeListeners__.forEach(function(o){o.call(s,e)}))})}},p=!1,z="",c="animationstart",_="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),w="";{var O=i.document.createElement("fakeelement");if(O.style.animationName!==void 0&&(p=!0),p===!1){for(var g=0;g<_.length;g++)if(O.style[_[g]+"AnimationName"]!==void 0){w=_[g],z="-"+w.toLowerCase()+"-",c=m[g],p=!0;break}}}var L="resizeanim",T="@"+z+"keyframes "+L+" { from { opacity: 0; } to { opacity: 0; } } ",R=z+"animation: 1ms "+L+"; "}var N=function(e){if(!e.getElementById("detectElementResize")){var s=(T||"")+".resize-triggers { "+(R||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=e.head||e.getElementsByTagName("head")[0],a=e.createElement("style");a.id="detectElementResize",a.type="text/css",n!=null&&a.setAttribute("nonce",n),a.styleSheet?a.styleSheet.cssText=s:a.appendChild(e.createTextNode(s)),o.appendChild(a)}},D=function(e,s){if(t)e.attachEvent("onresize",s);else{if(!e.__resizeTriggers__){var o=e.ownerDocument,a=i.getComputedStyle(e);a&&a.position=="static"&&(e.style.position="relative"),N(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var E='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var k=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return E}});e.__resizeTriggers__.innerHTML=k.createHTML("")}else e.__resizeTriggers__.innerHTML=E;e.appendChild(e.__resizeTriggers__),f(e),e.addEventListener("scroll",b,!0),c&&(e.__resizeTriggers__.__animationListener__=function(F){F.animationName==L&&f(e)},e.__resizeTriggers__.addEventListener(c,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(s)}},x=function(e,s){if(t)e.detachEvent("onresize",s);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(s),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",b,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(c,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch{}}};return{addResizeListener:D,removeResizeListener:x}}var j,H;function W(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),i.push.apply(i,t)}return i}function G(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?W(i,!0).forEach(function(t){d(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):W(i).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))})}return n}var J=(H=j=function(n){U(r,n);function r(){var i,t;V(this,r);for(var l=arguments.length,y=new Array(l),f=0;f<l;f++)y[f]=arguments[f];return t=B(this,(i=S(r)).call.apply(i,[this].concat(y))),d(v(t),"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),d(v(t),"_parentNode",void 0),d(v(t),"_autoSizer",void 0),d(v(t),"_window",void 0),d(v(t),"_detectElementResize",void 0),d(v(t),"_onResize",function(){var u=t.props,b=u.disableHeight,p=u.disableWidth,z=u.onResize;if(t._parentNode){var c=t._parentNode.offsetHeight||0,_=t._parentNode.offsetWidth||0,m=t._window||window,w=m.getComputedStyle(t._parentNode)||{},O=parseInt(w.paddingLeft,10)||0,g=parseInt(w.paddingRight,10)||0,L=parseInt(w.paddingTop,10)||0,T=parseInt(w.paddingBottom,10)||0,R=c-L-T,N=_-O-g;(!b&&t.state.height!==R||!p&&t.state.width!==N)&&(t.setState({height:c-L-T,width:_-O-g}),z({height:c,width:_}))}}),d(v(t),"_setRef",function(u){t._autoSizer=u}),t}return $(r,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=K(t,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,l=t.children,y=t.className,f=t.disableHeight,u=t.disableWidth,b=t.style,p=this.state,z=p.height,c=p.width,_={overflow:"visible"},m={};return f||(_.height=0,m.height=z),u||(_.width=0,m.width=c),P.createElement("div",{className:y,ref:this._setRef,style:G({},_,{},b)},l(m))}}]),r}(P.Component),d(j,"propTypes",null),H);d(J,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});export{J as A,$ as _,V as a,U as b,B as c,S as d};
